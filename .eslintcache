[{"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/index.tsx":"1","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/reportWebVitals.ts":"2","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/App.tsx":"3","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/store.ts":"4","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/reducer.ts":"5","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/reducer.ts":"6","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/constants.ts":"7","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/actions.ts":"8","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/sagas.ts":"9"},{"size":677,"mtime":1607495146043,"results":"10","hashOfConfig":"11"},{"size":425,"mtime":1607489828461,"results":"12","hashOfConfig":"11"},{"size":3003,"mtime":1607677052256,"results":"13","hashOfConfig":"11"},{"size":453,"mtime":1607669422609,"results":"14","hashOfConfig":"11"},{"size":174,"mtime":1607669268620,"results":"15","hashOfConfig":"11"},{"size":1838,"mtime":1607674640891,"results":"16","hashOfConfig":"11"},{"size":388,"mtime":1607492170379,"results":"17","hashOfConfig":"11"},{"size":1608,"mtime":1607501595422,"results":"18","hashOfConfig":"11"},{"size":1264,"mtime":1607674623400,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"dt0gd0",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/index.tsx",[],["41","42"],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/reportWebVitals.ts",[],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/App.tsx",["43"],"import React, { FC, useEffect, useState } from 'react';\nimport { connect } from \"react-redux\";\nimport { IApiState } from \"./redux/apis/reducer\";\nimport { actionGetAlbums, actionGetPhotos, IAlbumInfo, IPhotoInfo } from \"./redux/apis/actions\";\n\nimport { Alert, List, Typography, Modal } from \"antd\";\ninterface IApp {\n  albums: IAlbumInfo[];\n  albumsError: any;\n  photos: IPhotoInfo[];\n  photosError: any;\n  getAlbums: () => void;\n  getPhotos: () => void;\n}\n\nexport const App: FC<IApp> = ({ albums, photos, albumsError, photosError, getAlbums, getPhotos }) => {\n  useEffect(() => {\n    getAlbums();\n    getPhotos();\n  }, [getAlbums, getPhotos]);\n\n  const [selectedAlbum, setSelectedAlbum] = useState<IAlbumInfo | undefined>(undefined);\n  const [albumPhotos, setAlbumPhotos] = useState<IPhotoInfo[]>([]);\n  const [selectedPhoto, setSelectedPhoto] = useState<IPhotoInfo | undefined>(undefined)\n\n  const onAlbumClick = (album: IAlbumInfo) => {\n    if (album.id === selectedAlbum?.id) {\n      setSelectedAlbum(undefined);\n      setAlbumPhotos([]);\n      setSelectedPhoto(undefined);\n    } else {\n      setSelectedAlbum(album);\n      const thumbnails: IPhotoInfo[] = [];\n      photos.map(photo => {\n        if (photo.albumId === album.id) {\n          thumbnails.push(photo)\n        }\n      });\n      setAlbumPhotos(thumbnails)\n    }\n  }\n\n  const onThumnailClick = (photo: IPhotoInfo) => {\n    setSelectedPhoto(photo);\n  };\n\n  if (albumsError) {\n    return <Alert type=\"error\" message={albumsError.toString()} showIcon />;\n  } else if (photosError) {\n    return <Alert type=\"error\" message={photosError.toString()} showIcon />;\n  } else {\n    return (<>\n      <List\n        header={<h3>Album list</h3>}\n        bordered\n        dataSource={albums}\n        renderItem={item => (\n          <List.Item\n            style={{ cursor: \"pointer\", flexDirection: \"column\" }}\n          >\n            <div onClick={() => {\n              onAlbumClick(item);\n            }}><Typography.Text>{item.title}</Typography.Text></div>\n            { item.id === selectedAlbum?.id ? <div>{\n              albumPhotos.map((photo, index) => <span onClick={() => {\n                onThumnailClick(photo);\n              }} key={index}><img alt=\"thumnail\" src={photo.thumbnailUrl} /></span>)\n            }</div> : null\n            }\n          </List.Item>)}\n      />\n      <Modal title={selectedPhoto?.title} visible={selectedPhoto !== undefined} onOk={() => setSelectedPhoto(undefined)} onCancel={() => setSelectedPhoto(undefined)} width={800}>\n        <img alt=\"full\" src={selectedPhoto?.url} />\n      </Modal>\n    </>);\n  }\n}\n\nconst mapStateToProps = (state: { api: IApiState }) => ({\n  albums: state.api.albums,\n  albumsError: state.api.albumsError,\n  photos: state.api.photos,\n  photosError: state.api.photosError\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n  getAlbums: () => dispatch(actionGetAlbums()),\n  getPhotos: () => dispatch(actionGetPhotos())\n});\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/store.ts",[],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/reducer.ts",[],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/reducer.ts",[],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/constants.ts",[],["44","45"],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/actions.ts",[],"/Users/Peng/Documents/exam/infoSysPhotoApp/info-sys-photo-app/src/redux/apis/sagas.ts",[],{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","severity":1,"message":"51","line":34,"column":24,"nodeType":"52","messageId":"53","endLine":34,"endColumn":26},{"ruleId":"46","replacedBy":"54"},{"ruleId":"48","replacedBy":"55"},"no-native-reassign",["56"],"no-negated-in-lhs",["57"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside",["56"],["57"],"no-global-assign","no-unsafe-negation"]